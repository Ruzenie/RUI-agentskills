---
name: frontend-standards-enforcer
description: 基于 frontend-code-standards.md 做前端代码规范检查与修复建议，覆盖结构、命名、TS、性能和测试。
---

# Frontend Standards Enforcer

目标：把规范从“建议”变成“执行门槛”。

## SSOT

- `../../frontend-code-standards.md`
- `../../AI前端开发技能规范.md`
- `../contracts/quality-gates.md`

## 检查范围

1. 项目结构
- 目录分层、文件组织、职责边界。

2. 组件化规范
- 组件分类、文件结构、设计原则。

3. 命名规范
- 文件/变量/函数/事件命名一致性。

4. 代码风格
- 导入顺序、渲染逻辑、可读性。

5. TypeScript 规范
- 类型定义、Props 类型、导出方式。

6. 性能规范
- 重渲染控制、分割策略、列表与缓存。

7. 测试规范
- 测试文件组织、关键路径覆盖。

8. 安全与兼容基线
- 输入安全、敏感信息暴露、主流浏览器兼容。

9. 改动边界合规
- 样式改动任务需校验是否越界到非目标模块或业务逻辑。

10. 图标系统一致性（按需）
- 若存在 icon 产物，校验图标命名、尺寸层级、样式规则一致。

## 强制规则

- 不允许 `any`（无充分说明即阻断）。
- 业务函数建议 <= 50 行；超限需拆分。
- 渲染逻辑 > 30 行需提取子组件。
- Props 穿透 > 3 层需改为 Context/状态管理。
- 重复模式 >= 3 必须抽离复用。
- 若存在 `style.scope.lock.json`，越界改动直接阻断。

## 执行方式

- 对每项给出：`通过 / 警告 / 阻断`。
- 阻断项必须给最短修复路径。

## 输出约定

1. 违规清单（按严重级排序）
2. 修复建议（可直接执行）
3. 预计收益与风险
4. 是否允许合并

## 协作关系

- 作为 `ui-codegen-master` 的代码质量检查器。
- 与 `ui-component-extractor` 协作，重构后进行规范回归。
